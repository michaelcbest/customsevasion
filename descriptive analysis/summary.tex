\documentclass[10pt,]{article}
\usepackage[]{mathpazo}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=0.75in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={Summary of Yearly Comtrade Data, HS 2012},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{natbib}
\bibliographystyle{plainnat}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\ImportTok}[1]{{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{{#1}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{{#1}}}}
\newcommand{\BuiltInTok}[1]{{#1}}
\newcommand{\ExtensionTok}[1]{{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}
\usepackage{longtable,booktabs}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}
  \title{Summary of Yearly Comtrade Data, HS 2012}
  \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
  \author{}
  \preauthor{}\postauthor{}
  \predate{\centering\large\emph}
  \postdate{\par}
  \date{August 06, 2017}


\begin{document}
\maketitle

This analysis is for the full 2012-2016 yearly Comtrade data using the
HS2012 classification.

\emph{Notes:}

\begin{itemize}
\item
  \emph{There are a lot of cases where country A has reported exports
  but country B has not reported anything. As much as half of the raw
  data becomes ``missing'' due to this. This seems consistent with
  Fisman/Wei (pg 4).}
\item
  \emph{The raw data contains re-exports and re-imports. These amounts
  are also included in a country's regular exports/imports as imports
  from one country to itself. For example, France has re-imports that
  are also included in France's imports as \texttt{Reporter} = France
  and \texttt{Partner} = France. This doesn't affect this analysis
  because there is no matched reporter/partner pair, but they might
  affect our trade gap measure if they're actually imports from an
  unforseen place. More on re-exports
  \textbf{\href{https://unstats.un.org/unsd/tradekb/Knowledgebase/Reexports-and-Reimports}{at
  this link.}} }
\item
  \emph{Do we want to focus on the six-digit product code
  classifications? The two- and four-digit classifications should be, in
  theory, aggregates of the more detailed classifications.}
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_12.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12_12 <-}\StringTok{ }\NormalTok{hs12_12[!}\KeywordTok{is.na}\NormalTok{(Log_gap)]}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_13.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12_13 <-}\StringTok{ }\NormalTok{hs12_13[!}\KeywordTok{is.na}\NormalTok{(Log_gap)]}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_14.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12_14 <-}\StringTok{ }\NormalTok{hs12_14[!}\KeywordTok{is.na}\NormalTok{(Log_gap)]}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_15.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12_15 <-}\StringTok{ }\NormalTok{hs12_15[!}\KeywordTok{is.na}\NormalTok{(Log_gap)]}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_16.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12_16 <-}\StringTok{ }\NormalTok{hs12_16[!}\KeywordTok{is.na}\NormalTok{(Log_gap)]}

\NormalTok{hs12_value <-}\StringTok{ }\KeywordTok{do.call}\NormalTok{(}\StringTok{"rbind"}\NormalTok{, }\KeywordTok{list}\NormalTok{(hs12_12, hs12_13, hs12_14, hs12_15, hs12_16))}
\KeywordTok{rm}\NormalTok{(hs12_12, hs12_13, hs12_14, hs12_15, hs12_16)}

\KeywordTok{save}\NormalTok{(hs12_value,}\DataTypeTok{file =} \KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data"}\NormalTok{,}\StringTok{"hs12_value.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\KeywordTok{rm}\NormalTok{(hs12_value)}
\end{Highlighting}
\end{Shaded}

\section{Value Trade Gap}\label{value-trade-gap}

The difference between what the exporting country reports and what the
importing country reports in US dollars.

\subsection{Coverage}\label{coverage}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12 <-}\StringTok{ }\KeywordTok{as.data.table}\NormalTok{(hs12)}

\KeywordTok{options}\NormalTok{(}\DataTypeTok{digits=}\DecValTok{2}\NormalTok{)}

\CommentTok{#For each year, how many product*country pairs / all possible product*country pairs?}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_value.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{hs12_value <-}\StringTok{ }\NormalTok{hs12_value[, .(Period, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, Importer, Exporter, Log_gap)]}

\NormalTok{product <-}\StringTok{ }\NormalTok{hs12_value[, }\KeywordTok{uniqueN}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{)]}
\NormalTok{product_year <-}\StringTok{ }\NormalTok{hs12_value[, }\KeywordTok{uniqueN}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{), by=Period]}
\NormalTok{product_year <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(product_year, }\DataTypeTok{Products =} \NormalTok{V1)}

\NormalTok{pair <-}\StringTok{ }\KeywordTok{unique}\NormalTok{(}\KeywordTok{setDT}\NormalTok{(hs12_value), }\DataTypeTok{by =} \KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{))}
\NormalTok{pair <-}\StringTok{ }\NormalTok{pair[, .N]}
\NormalTok{pair_year <-}\StringTok{ }\KeywordTok{unique}\NormalTok{(}\KeywordTok{setDT}\NormalTok{(hs12_value), }\DataTypeTok{by =} \KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{, }\StringTok{"Period"}\NormalTok{))}
\NormalTok{pair_year <-}\StringTok{ }\NormalTok{pair_year[, .N, by=Period]}
\NormalTok{pair_year <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(pair_year, }\DataTypeTok{Pairs =} \NormalTok{N)}

\NormalTok{year_coverage <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(product_year, pair_year)}
\NormalTok{year_coverage$Total_products <-}\StringTok{ }\NormalTok{product}
\NormalTok{year_coverage$Total_pairs <-}\StringTok{ }\NormalTok{pair}

\NormalTok{year_coverage$Coverage <-}\StringTok{ }\NormalTok{(year_coverage$Products*year_coverage$Pairs)/}
\StringTok{  }\NormalTok{(year_coverage$Total_products*year_coverage$Total_pair)}

\KeywordTok{pander}\NormalTok{(year_coverage)}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccccc@{}}
\toprule
\begin{minipage}[b]{0.10\columnwidth}\centering\strut
Period\strut
\end{minipage} & \begin{minipage}[b]{0.13\columnwidth}\centering\strut
Products\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.20\columnwidth}\centering\strut
Total\_products\strut
\end{minipage} & \begin{minipage}[b]{0.16\columnwidth}\centering\strut
Total\_pairs\strut
\end{minipage} & \begin{minipage}[b]{0.12\columnwidth}\centering\strut
Coverage\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.10\columnwidth}\centering\strut
2012\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6523\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
7684\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.5138\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.10\columnwidth}\centering\strut
2013\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6524\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
10262\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.6863\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.10\columnwidth}\centering\strut
2014\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6522\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
11721\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.7836\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.10\columnwidth}\centering\strut
2015\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6522\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
12741\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.8518\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.10\columnwidth}\centering\strut
2016\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6521\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
6741\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.4506\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(pair_year, product_year, year_coverage)}

\CommentTok{#For each product, how many year*country pairs / all possible year*country pairs?}

\NormalTok{year <-}\StringTok{ }\NormalTok{hs12_value[, }\KeywordTok{uniqueN}\NormalTok{(}\StringTok{`}\DataTypeTok{Period}\StringTok{`}\NormalTok{)]}
\NormalTok{year_product <-}\StringTok{ }\NormalTok{hs12_value[, }\KeywordTok{uniqueN}\NormalTok{(}\StringTok{`}\DataTypeTok{Period}\StringTok{`}\NormalTok{), by=}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{]}
\NormalTok{year_product <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(year_product, }\DataTypeTok{Years =} \NormalTok{V1)}

\NormalTok{pair_product <-}\StringTok{ }\KeywordTok{unique}\NormalTok{(}\KeywordTok{setDT}\NormalTok{(hs12_value), }\DataTypeTok{by =} \KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{, }\StringTok{"Commodity Code"}\NormalTok{))}
\NormalTok{pair_product <-}\StringTok{ }\NormalTok{pair_product[, .N, by=}\StringTok{ }\NormalTok{.(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{)]}
\NormalTok{pair_product <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(pair_product, }\DataTypeTok{Pairs =} \NormalTok{N)}

\NormalTok{product_coverage <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(year_product, pair_product)}
\NormalTok{product_coverage$Total_years <-}\StringTok{ }\NormalTok{year}
\NormalTok{product_coverage$Total_pairs <-}\StringTok{ }\NormalTok{pair}

\NormalTok{product_coverage$Coverage <-}\StringTok{ }\NormalTok{(product_coverage$Years*product_coverage$Pairs)/}
\StringTok{  }\NormalTok{(product_coverage$Total_years*product_coverage$Total_pairs)}

\KeywordTok{pander}\NormalTok{(product_coverage[}\KeywordTok{order}\NormalTok{(Coverage)][}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccccc@{}}
\toprule
\begin{minipage}[b]{0.20\columnwidth}\centering\strut
Commodity Code\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Years\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.16\columnwidth}\centering\strut
Total\_years\strut
\end{minipage} & \begin{minipage}[b]{0.16\columnwidth}\centering\strut
Total\_pairs\strut
\end{minipage} & \begin{minipage}[b]{0.12\columnwidth}\centering\strut
Coverage\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
292424\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
5.352e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
292512\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
5.352e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
811252\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
5.352e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
030195\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
3\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
3\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0001204\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
252410\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
4\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
6\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0003211\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
810730\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
4\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
6\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0003211\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
811213\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
3\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
8\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0003211\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
261220\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0003345\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
290551\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0003345\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
293963\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.0003345\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{pander}\NormalTok{(product_coverage[}\KeywordTok{order}\NormalTok{(-Coverage)][}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccccc@{}}
\toprule
\begin{minipage}[b]{0.20\columnwidth}\centering\strut
Commodity Code\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Years\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.16\columnwidth}\centering\strut
Total\_years\strut
\end{minipage} & \begin{minipage}[b]{0.16\columnwidth}\centering\strut
Total\_pairs\strut
\end{minipage} & \begin{minipage}[b]{0.12\columnwidth}\centering\strut
Coverage\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
84\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
11409\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.7632\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
85\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
11165\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.7469\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
39\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
10223\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.6839\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
90\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
9929\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.6642\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
73\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
9414\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.6298\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
94\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
8897\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.5952\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
87\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
8864\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.593\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
49\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
8858\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.5926\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
48\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
8602\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.5755\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.20\columnwidth}\centering\strut
62\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
8518\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
14948\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
0.5698\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(year_product, pair_product, product_coverage)}

\CommentTok{#For each country pair, how many year*product / all possible year*product?}

\NormalTok{product_pair <-}\StringTok{ }\NormalTok{hs12_value[, }\KeywordTok{uniqueN}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{)]}
\NormalTok{product_pair <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(product_pair, }\DataTypeTok{Products =} \NormalTok{V1)}

\NormalTok{year_pair <-}\StringTok{ }\NormalTok{hs12_value[, }\KeywordTok{uniqueN}\NormalTok{(}\StringTok{`}\DataTypeTok{Period}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{)]}
\NormalTok{year_pair <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(year_pair, }\DataTypeTok{Years =} \NormalTok{V1)}

\NormalTok{pair_coverage <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(product_pair, year_pair, }\DataTypeTok{by =} \KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{))}
\NormalTok{pair_coverage$T_products <-}\StringTok{ }\NormalTok{product}
\NormalTok{pair_coverage$T_years <-}\StringTok{ }\NormalTok{year}

\NormalTok{pair_coverage$Coverage <-}\StringTok{ }\NormalTok{(pair_coverage$Products*pair_coverage$Years)/}
\StringTok{  }\NormalTok{(pair_coverage$T_products*pair_coverage$T_years)}

\NormalTok{pair_coverage$Exporter <-}\StringTok{ }\KeywordTok{strtrim}\NormalTok{(pair_coverage$Exporter, }\DecValTok{15}\NormalTok{)}
\KeywordTok{pander}\NormalTok{(pair_coverage[}\KeywordTok{order}\NormalTok{(Coverage)][}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ccccccc@{}}
\toprule
\begin{minipage}[b]{0.11\columnwidth}\centering\strut
Importer\strut
\end{minipage} & \begin{minipage}[b]{0.16\columnwidth}\centering\strut
Exporter\strut
\end{minipage} & \begin{minipage}[b]{0.11\columnwidth}\centering\strut
Products\strut
\end{minipage} & \begin{minipage}[b]{0.08\columnwidth}\centering\strut
Years\strut
\end{minipage} & \begin{minipage}[b]{0.13\columnwidth}\centering\strut
T\_products\strut
\end{minipage} & \begin{minipage}[b]{0.10\columnwidth}\centering\strut
T\_years\strut
\end{minipage} & \begin{minipage}[b]{0.10\columnwidth}\centering\strut
Coverage\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Albania\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Bolivia (Plurin\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Albania\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Nepal\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Algeria\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Botswana\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Algeria\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Dominican Rep.\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Algeria\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Ghana\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Algeria\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Rep.~of Moldova\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Algeria\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Zambia\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Andorra\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Bosnia Herzegov\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Andorra\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Cyprus\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.11\columnwidth}\centering\strut
Angola\strut
\end{minipage} & \begin{minipage}[t]{0.16\columnwidth}\centering\strut
Bahamas\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.08\columnwidth}\centering\strut
1\strut
\end{minipage} & \begin{minipage}[t]{0.13\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.10\columnwidth}\centering\strut
3.065e-05\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{pander}\NormalTok{(pair_coverage[}\KeywordTok{order}\NormalTok{(-Coverage)][}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}ccccccc@{}}
\toprule
\begin{minipage}[b]{0.13\columnwidth}\centering\strut
Importer\strut
\end{minipage} & \begin{minipage}[b]{0.12\columnwidth}\centering\strut
Exporter\strut
\end{minipage} & \begin{minipage}[b]{0.12\columnwidth}\centering\strut
Products\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Years\strut
\end{minipage} & \begin{minipage}[b]{0.14\columnwidth}\centering\strut
T\_products\strut
\end{minipage} & \begin{minipage}[b]{0.11\columnwidth}\centering\strut
T\_years\strut
\end{minipage} & \begin{minipage}[b]{0.11\columnwidth}\centering\strut
Coverage\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
Canada\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
USA\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6400\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9807\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
France\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Belgium\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6138\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9405\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
Portugal\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Spain\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6116\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9372\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
Mexico\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
USA\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6111\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9364\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
Switzerland\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Germany\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6101\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9349\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
USA\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Canada\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6073\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9306\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
France\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Italy\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6063\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9291\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
France\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Germany\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6059\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9284\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
Italy\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Germany\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
6022\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9228\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.13\columnwidth}\centering\strut
Poland\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
Germany\strut
\end{minipage} & \begin{minipage}[t]{0.12\columnwidth}\centering\strut
5987\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.14\columnwidth}\centering\strut
6526\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
5\strut
\end{minipage} & \begin{minipage}[t]{0.11\columnwidth}\centering\strut
0.9174\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(product_pair, year_pair, pair_coverage, pair, product, year, hs12_value)}
\end{Highlighting}
\end{Shaded}

\subsection{Trade gap over time}\label{trade-gap-over-time}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_value.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\NormalTok{hs12_value <-}\StringTok{ }\NormalTok{hs12_value[, .(Period, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, Importer, Exporter, Log_gap)]}

\NormalTok{hs12_value$Period <-}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(hs12_value$Period, }\StringTok{"%Y"}\NormalTok{)}
\NormalTok{hs12_value$Period <-}\StringTok{ }\KeywordTok{floor_date}\NormalTok{(hs12_value$Period,}\StringTok{"year"}\NormalTok{)}

\NormalTok{periods <-}\StringTok{ }\NormalTok{hs12_value[, .(}\DataTypeTok{mean =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{mean}\NormalTok{(Log_gap)),}
                    \DataTypeTok{median =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{median}\NormalTok{(Log_gap)),}
                    \DataTypeTok{p25 =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{quantile}\NormalTok{(Log_gap,.}\DecValTok{25}\NormalTok{)),}
                    \DataTypeTok{p75 =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{quantile}\NormalTok{(Log_gap,.}\DecValTok{75}\NormalTok{))}
\NormalTok{),}
\NormalTok{by=Period]}

\NormalTok{periods <-}\StringTok{ }\KeywordTok{melt}\NormalTok{(periods, }\DataTypeTok{id =} \StringTok{'Period'}\NormalTok{)}
\NormalTok{periods$variable <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(periods$variable, }\DataTypeTok{levels =} \KeywordTok{c}\NormalTok{(}\StringTok{"p25"}\NormalTok{,}\StringTok{"p75"}\NormalTok{,}\StringTok{"median"}\NormalTok{,}\StringTok{"mean"}\NormalTok{))}

\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{periods ) +}
\StringTok{  }\KeywordTok{geom_line}\NormalTok{(}\DataTypeTok{data=}\NormalTok{periods, }\KeywordTok{aes}\NormalTok{(}\DataTypeTok{x =} \NormalTok{Period, }\DataTypeTok{y =} \NormalTok{value, }\DataTypeTok{colour =} \NormalTok{variable, }\DataTypeTok{size=}\NormalTok{variable)) +}
\StringTok{  }\KeywordTok{scale_colour_manual}\NormalTok{(}\DataTypeTok{values=}\KeywordTok{c}\NormalTok{(}\StringTok{"grey"}\NormalTok{,}\StringTok{"grey"}\NormalTok{,}\StringTok{"black"}\NormalTok{,}\StringTok{"royalblue4"}\NormalTok{)) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_size_manual}\NormalTok{(}\DataTypeTok{values =} \KeywordTok{c}\NormalTok{(}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{,}\FloatTok{1.1}\NormalTok{,}\FloatTok{1.25}\NormalTok{)) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(-}\DecValTok{1}\NormalTok{,}\DecValTok{1}\NormalTok{), }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\DataTypeTok{label =} \StringTok{""}\NormalTok{) +}
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\DataTypeTok{label =} \StringTok{"Value gap"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Value Gap Over Time"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Across products?}
\NormalTok{products <-}\StringTok{ }\NormalTok{hs12_value[, .(}\DataTypeTok{mean =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{mean}\NormalTok{(Log_gap)),}
                     \DataTypeTok{median =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{median}\NormalTok{(Log_gap)),}
                     \DataTypeTok{p25 =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{quantile}\NormalTok{(Log_gap,.}\DecValTok{25}\NormalTok{)),}
                     \DataTypeTok{p75 =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{quantile}\NormalTok{(Log_gap,.}\DecValTok{75}\NormalTok{))}
\NormalTok{),}
\NormalTok{by=}\StringTok{ `}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{]}

\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{products, }\KeywordTok{aes}\NormalTok{(mean)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{3000}\NormalTok{), }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Mean Trade Gap Across Products"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of products"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-2} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{products, }\KeywordTok{aes}\NormalTok{(median)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{6000}\NormalTok{)) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Median Trade Gap Across Products"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of products"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-3} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{products, }\KeywordTok{aes}\NormalTok{(p25)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{,}\DecValTok{2000}\NormalTok{),  }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"25th Percentile Trade Gap Across Products"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of products"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-4} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{products, }\KeywordTok{aes}\NormalTok{(p75)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{),  }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{2500}\NormalTok{), }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"75th Percentile Trade Gap Across Products"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of products"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-5} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Across countries?}
\NormalTok{countries <-}\StringTok{ }\NormalTok{hs12_value[, .(}\DataTypeTok{mean =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{mean}\NormalTok{(Log_gap)),}
                      \DataTypeTok{median =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{median}\NormalTok{(Log_gap)),}
                      \DataTypeTok{p25 =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{quantile}\NormalTok{(Log_gap,.}\DecValTok{25}\NormalTok{)),}
                      \DataTypeTok{p75 =} \KeywordTok{as.double}\NormalTok{(}\KeywordTok{quantile}\NormalTok{(Log_gap,.}\DecValTok{75}\NormalTok{))}
\NormalTok{),}
\NormalTok{by=}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Importer"}\NormalTok{, }\StringTok{"Exporter"}\NormalTok{)]}

\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{countries, }\KeywordTok{aes}\NormalTok{(mean)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{8000}\NormalTok{),  }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Mean Trade Gap Across Country Pairs"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of pairs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-6} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{countries, }\KeywordTok{aes}\NormalTok{(median)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{12000}\NormalTok{),  }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Median Trade Gap Across Country Pairs"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of pairs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-7} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{countries, }\KeywordTok{aes}\NormalTok{(p25)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{8000}\NormalTok{),  }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"25th Percentile Trade Gap Across Country Pairs"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of pairs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-8} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{countries, }\KeywordTok{aes}\NormalTok{(p75)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{8000}\NormalTok{),  }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"75th Percentile Trade Gap Across Country Pairs"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of pairs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_time-9} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(periods, products, countries, hs12_value)}
\end{Highlighting}
\end{Shaded}

\subsection{Year coefficients controlling for product codes and country
pairs}\label{year-coefficients-controlling-for-product-codes-and-country-pairs}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/hs12_value.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\NormalTok{hs12_value <-}\StringTok{ }\NormalTok{hs12_value[, .(Period, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, }\StringTok{`}\DataTypeTok{Reporter Code}\StringTok{`}\NormalTok{, }\StringTok{`}\DataTypeTok{Partner Code}\StringTok{`}\NormalTok{, Log_gap)]}

\NormalTok{hs12_value$Period <-}\StringTok{ }\KeywordTok{as.Date}\NormalTok{(hs12_value$Period, }\StringTok{"%Y"}\NormalTok{)}
\NormalTok{hs12_value$Period <-}\StringTok{ }\KeywordTok{floor_date}\NormalTok{(hs12_value$Period,}\StringTok{"year"}\NormalTok{)}

\NormalTok{hs12_value$Period.f <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(hs12_value$Period)}
\NormalTok{hs12_value$Products.f <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(hs12_value$}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{)}

\NormalTok{hs12_value$Importer.f <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(hs12_value$}\StringTok{`}\DataTypeTok{Reporter Code}\StringTok{`}\NormalTok{)}
\NormalTok{hs12_value$Exporter.f <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(hs12_value$}\StringTok{`}\DataTypeTok{Partner Code}\StringTok{`}\NormalTok{)}
\NormalTok{hs12_value$Pairs.f <-}\StringTok{ }\KeywordTok{with}\NormalTok{(hs12_value, }\KeywordTok{interaction}\NormalTok{(Importer.f, Exporter.f))}

\NormalTok{hs12_value <-}\StringTok{ }\NormalTok{hs12_value[, .(Period, Log_gap, Period.f, Products.f, Pairs.f)]}

\NormalTok{reg <-}\StringTok{ }\KeywordTok{felm}\NormalTok{(Log_gap ~}\StringTok{ }\DecValTok{1} \NormalTok{|}\StringTok{ }\NormalTok{Period.f +}\StringTok{ }\NormalTok{Products.f +}\StringTok{ }\NormalTok{Pairs.f,}
            \DataTypeTok{data =} \NormalTok{hs12_value,}
            \DataTypeTok{exactDOF =} \OtherTok{FALSE}\NormalTok{,}
            \DataTypeTok{keepX =} \OtherTok{FALSE}\NormalTok{,}
            \DataTypeTok{keepCX =} \OtherTok{FALSE}\NormalTok{)}

\NormalTok{fes <-}\StringTok{ }\KeywordTok{getfe}\NormalTok{(reg,}
             \DataTypeTok{se=}\OtherTok{TRUE}\NormalTok{,}
             \DataTypeTok{bN =} \DecValTok{50}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## ...finished 16 of 56 vectors in 431 seconds
## ...finished 32 of 56 vectors in 775 seconds
## ...finished 48 of 56 vectors in 1099 seconds
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{periodfes <-}\StringTok{ }\KeywordTok{subset}\NormalTok{(fes,fe ==}\StringTok{ "Period.f"}\NormalTok{)}

\NormalTok{periodfes$ci_ub <-}\StringTok{ }\NormalTok{periodfes$effect +}\StringTok{ }\NormalTok{(}\FloatTok{1.96} \NormalTok{*}\StringTok{ }\NormalTok{periodfes$se)}
\NormalTok{periodfes$ci_lb <-}\StringTok{ }\NormalTok{periodfes$effect -}\StringTok{ }\NormalTok{(}\FloatTok{1.96} \NormalTok{*}\StringTok{ }\NormalTok{periodfes$se)}
\NormalTok{periodfes <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(periodfes,}\KeywordTok{unique}\NormalTok{(hs12_value[,}\KeywordTok{list}\NormalTok{(Period,Period.f)]),}
                   \DataTypeTok{by.x =} \StringTok{"idx"}\NormalTok{,}\DataTypeTok{by.y=}\StringTok{"Period.f"}\NormalTok{)}
\NormalTok{periodfes <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(periodfes, }\DataTypeTok{period =} \NormalTok{Period)}

\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data =} \NormalTok{periodfes, }\KeywordTok{aes}\NormalTok{(period,effect)) +}
\StringTok{  }\KeywordTok{geom_errorbar}\NormalTok{(}\KeywordTok{aes}\NormalTok{(}\DataTypeTok{ymin =} \NormalTok{ci_lb, }\DataTypeTok{ymax =} \NormalTok{ci_ub), }\DataTypeTok{color =} \StringTok{"grey35"}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_line}\NormalTok{(}\DataTypeTok{color =} \StringTok{"royalblue4"}\NormalTok{, }\DataTypeTok{size =} \DecValTok{1}\NormalTok{) +}
\StringTok{  }\KeywordTok{geom_point}\NormalTok{(}\DataTypeTok{color =} \StringTok{"royalblue4"}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{limits =} \KeywordTok{c}\NormalTok{(-.}\DecValTok{050}\NormalTok{,.}\DecValTok{075}\NormalTok{), }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{xlab}\NormalTok{(}\DataTypeTok{label =} \StringTok{""}\NormalTok{) +}
\StringTok{  }\KeywordTok{ylab}\NormalTok{(}\DataTypeTok{label =} \StringTok{"Trade gap"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title =} \StringTok{"Trade gap Over Time, Controlling for Product/Country Pairs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_years_reg-1} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{productfes <-}\StringTok{ }\KeywordTok{subset}\NormalTok{(fes,fe ==}\StringTok{ "Products.f"}\NormalTok{)}
\NormalTok{productfes <-}\StringTok{ }\NormalTok{productfes[,}\KeywordTok{c}\NormalTok{(}\StringTok{"effect"}\NormalTok{,}\StringTok{"idx"}\NormalTok{)]}

\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{productfes, }\KeywordTok{aes}\NormalTok{(effect)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Mean Trade Gap Across Products, Controlling for Country Pairs/Years"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of products"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_years_reg-2} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pairfes <-}\StringTok{ }\KeywordTok{subset}\NormalTok{(fes,fe ==}\StringTok{ "Pairs.f"}\NormalTok{)}
\NormalTok{pairfes <-}\StringTok{ }\NormalTok{pairfes[,}\KeywordTok{c}\NormalTok{(}\StringTok{"effect"}\NormalTok{,}\StringTok{"idx"}\NormalTok{)]}

\KeywordTok{ggplot}\NormalTok{(}\DataTypeTok{data=}\NormalTok{pairfes, }\KeywordTok{aes}\NormalTok{(effect)) +}
\StringTok{  }\KeywordTok{geom_histogram}\NormalTok{(}\DataTypeTok{col=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{fill=}\StringTok{"royalblue4"}\NormalTok{,}
                 \DataTypeTok{alpha=}\NormalTok{.}\DecValTok{2}\NormalTok{) +}
\StringTok{  }\KeywordTok{background_grid}\NormalTok{(}\DataTypeTok{major =} \StringTok{'y'}\NormalTok{, }\DataTypeTok{minor =} \StringTok{"none"}\NormalTok{) +}
\StringTok{  }\KeywordTok{scale_y_continuous}\NormalTok{(}\DataTypeTok{expand =} \KeywordTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{0}\NormalTok{), }\DataTypeTok{minor_breaks =} \OtherTok{NULL}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{title=}\StringTok{"Mean Trade Gap Across Country Pairs, Controlling for Products/Years"}\NormalTok{) +}
\StringTok{  }\KeywordTok{labs}\NormalTok{(}\DataTypeTok{x=}\StringTok{"Trade gap"}\NormalTok{, }\DataTypeTok{y=}\StringTok{"Number of country pairs"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{center}\includegraphics{Figs/value_years_reg-3} \end{center}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(fes, hs12_value, pairfes, periodfes, productfes, reg)}
\end{Highlighting}
\end{Shaded}

\subsection{What data is missing?}\label{what-data-is-missing}

The first table looks at how many product x year x partner combinations
each country reported as exports (\texttt{Reported\ Exports}), relative
to the number of combinations that the same country was reported as a
partner (\texttt{World\ Imports}). The second table repeats the first,
but looking at imports.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#yearXproduct exports reported by country, relative to imports to country reported by world}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/imports_full12.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\NormalTok{imports_full12 <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(imports_full12, }\StringTok{"Import Value"} \NormalTok{=}\StringTok{ "Trade Value (US$)"}\NormalTok{)}
\NormalTok{imports_full12 <-}\StringTok{ }\NormalTok{imports_full12[, .(Period, Reporter, Partner, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, }\StringTok{`}\DataTypeTok{Import Value}\StringTok{`}\NormalTok{)]}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/exports_full12.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\NormalTok{exports <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(exports, }\StringTok{"Export Value"} \NormalTok{=}\StringTok{ "Trade Value (US$)"}\NormalTok{)}
\NormalTok{exports <-}\StringTok{ }\NormalTok{exports[, .(Period, Reporter, Partner, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, }\StringTok{`}\DataTypeTok{Export Value}\StringTok{`}\NormalTok{)]}

\NormalTok{rep_ex <-}\StringTok{ }\NormalTok{exports[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Export Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{), }
                  \NormalTok{by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Reporter"}\NormalTok{, }\StringTok{"Period"}\NormalTok{, }\StringTok{"Partner"}\NormalTok{)]}
\NormalTok{rep_ex <-}\StringTok{ }\NormalTok{rep_ex[, .N, by =}\StringTok{ "Reporter"}\NormalTok{]}
\NormalTok{rep_ex <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(rep_ex, }\StringTok{"Reported Exports"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{rep_ex2 <-}\StringTok{ }\NormalTok{imports_full12[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Import Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{), }
                          \NormalTok{by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Partner"}\NormalTok{, }\StringTok{"Period"}\NormalTok{, }\StringTok{"Reporter"}\NormalTok{)]}
\NormalTok{rep_ex2 <-}\StringTok{ }\NormalTok{rep_ex2[, .N, by =}\StringTok{ "Partner"}\NormalTok{]}
\NormalTok{rep_ex2 <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(rep_ex2, }\StringTok{"World Imports"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{rep_ex <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(rep_ex, rep_ex2, }\DataTypeTok{by.x =} \KeywordTok{c}\NormalTok{(}\StringTok{"Reporter"}\NormalTok{), }\DataTypeTok{by.y =} \StringTok{"Partner"}\NormalTok{, }\DataTypeTok{all =} \NormalTok{T)}

\NormalTok{rep_ex[}\KeywordTok{is.na}\NormalTok{(rep_ex)] <-}\StringTok{ }\DecValTok{0}
\NormalTok{rep_ex$Share_Present <-}\StringTok{ }\NormalTok{rep_ex$}\StringTok{`}\DataTypeTok{Reported Exports}\StringTok{`} \NormalTok{/}\StringTok{ }\NormalTok{rep_ex$}\StringTok{`}\DataTypeTok{World Imports}\StringTok{`}

\NormalTok{rep_ex <-}\StringTok{ }\NormalTok{rep_ex[}\KeywordTok{order}\NormalTok{(Share_Present)]}
\NormalTok{rep_ex$Reporter <-}\StringTok{ }\KeywordTok{strtrim}\NormalTok{(rep_ex$Reporter, }\DecValTok{15}\NormalTok{)}
\KeywordTok{print}\NormalTok{(rep_ex, }\DataTypeTok{nrow=}\DecValTok{245}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##             Reporter Reported Exports World Imports Share_Present
##   1:     Afghanistan                0         30993         0.000
##   2:  American Samoa                0         10984         0.000
##   3:        Anguilla                0          4485         0.000
##   4:      Antarctica                0          2407         0.000
##   5: Antigua and Bar                0         10500         0.000
##   6:      Areas, nes                0        301245         0.000
##   7:        Barbados                0         17804         0.000
##   8:         Bonaire                0          1249         0.000
##   9:   Bouvet Island                0           892         0.000
##  10: Br. Indian Ocea                0          3048         0.000
##  11: Br. Virgin Isds                0         17534         0.000
##  12:         Bunkers                0          6704         0.000
##  13:     Cayman Isds                0         10282         0.000
##  14: Central African                0          7562         0.000
##  15:            Chad                0          8336         0.000
##  16:  Christmas Isds                0          3910         0.000
##  17:      Cocos Isds                0          4939         0.000
##  18:         Comoros                0          5628         0.000
##  19:       Cook Isds                0          5418         0.000
##  20:            Cuba                0         26316         0.000
##  21:        CuraÃ§ao                0         22458         0.000
##  22: Dem. People's R                0         66318         0.000
##  23: Dem. Rep. of th                0         26271         0.000
##  24:        Djibouti                0          8074         0.000
##  25:        Dominica                0         12983         0.000
##  26: Equatorial Guin                0          7789         0.000
##  27:         Eritrea                0          6473         0.000
##  28:   FS Micronesia                0          2671         0.000
##  29:     Faeroe Isds                0         13499         0.000
##  30: Falkland Isds (                0          3145         0.000
##  31: Fr. South Antar                0          1718         0.000
##  32:      Free Zones                0         40904         0.000
##  33:           Gabon                0         24187         0.000
##  34:          Gambia                0          9103         0.000
##  35:       Gibraltar                0         11810         0.000
##  36:         Grenada                0          5743         0.000
##  37:            Guam                0         10721         0.000
##  38:   Guinea-Bissau                0          2838         0.000
##  39:          Guyana                0         13166         0.000
##  40:           Haiti                0         24098         0.000
##  41: Heard Island an                0           742         0.000
##  42: Holy See (Vatic                0          3694         0.000
##  43:            Iran                0        150760         0.000
##  44:            Iraq                0         23220         0.000
##  45:           Kenya                0        131478         0.000
##  46:        Kiribati                0          3524         0.000
##  47:       LAIA, nes                0          2339         0.000
##  48: Lao People's De                0         35046         0.000
##  49:         Lesotho                0         19066         0.000
##  50:         Liberia                0         11493         0.000
##  51:           Libya                0         15508         0.000
##  52:            Mali                0         25123         0.000
##  53:   Marshall Isds                0          4913         0.000
##  54:         Mayotte                0          1475         0.000
##  55:      Montserrat                0          4246         0.000
##  56:      Mozambique                0         33611         0.000
##  57: N. Mariana Isds                0          2946         0.000
##  58:           Nauru                0          6666         0.000
##  59:         Nigeria                0         83629         0.000
##  60:            Niue                0          4657         0.000
##  61:    Norfolk Isds                0          1284         0.000
##  62: North America a                0           357         0.000
##  63:    Oceania, nes                0           960         0.000
##  64: Other Africa, n                0          2733         0.000
##  65: Other Europe, n                0        168332         0.000
##  66:     Philippines                0        378901         0.000
##  67:        Pitcairn                0          2618         0.000
##  68: Saint BarthÃ©le                0          2227         0.000
##  69:    Saint Helena                0          5398         0.000
##  70: Saint Kitts and                0          6396         0.000
##  71:     Saint Lucia                0          6107         0.000
##  72:   Saint Maarten                0          4037         0.000
##  73: Saint Pierre an                0          2177         0.000
##  74: Saint Vincent a                0          4869         0.000
##  75:      San Marino                0         27196         0.000
##  76: Sao Tome and Pr                0          5630         0.000
##  77:      Seychelles                0         20627         0.000
##  78:    Sierra Leone                0         33630         0.000
##  79:         Somalia                0          7716         0.000
##  80: South Georgia a                0           655         0.000
##  81:     South Sudan                0          1966         0.000
##  82: Special Categor                0          1899         0.000
##  83:        Suriname                0         19920         0.000
##  84:       Swaziland                0         59942         0.000
##  85:           Syria                0         68012         0.000
##  86:      Tajikistan                0         14945         0.000
##  87:     Timor-Leste                0          5369         0.000
##  88:         Tokelau                0         12711         0.000
##  89: Trinidad and To                0         31242         0.000
##  90:    Turkmenistan                0         15565         0.000
##  91: Turks and Caico                0          7754         0.000
##  92:          Tuvalu                0          2662         0.000
##  93: United States M                0          7322         0.000
##  94:      Uzbekistan                0         33899         0.000
##  95:         Vanuatu                0          6772         0.000
##  96:       Venezuela                0         77686         0.000
##  97: Wallis and Futu                0          1720         0.000
##  98:  Western Sahara                0          1446         0.000
##  99:           World                0       3222936         0.000
## 100:          Angola              572         27535         0.021
## 101:      Mauritania             1282         15657         0.082
## 102:          Panama            15997        158341         0.101
## 103:        Maldives             2611         13899         0.188
## 104:         Myanmar            13065         67603         0.193
## 105:           Sudan             4346         20530         0.212
## 106: China, Macao SA            13102         58219         0.225
## 107: Papua New Guine             5726         21830         0.262
## 108:          Bhutan             1714          6425         0.267
## 109:           Congo             5981         20590         0.290
## 110:    Burkina Faso             4723         15882         0.297
## 111:           Nepal            27561         80276         0.343
## 112:           Qatar            33622         85528         0.393
## 113:           Ghana            26139         66076         0.396
## 114:        Honduras            37536         93599         0.401
## 115:      Bangladesh            78393        190837         0.411
## 116:         Morocco            99295        235718         0.421
## 117:        Cambodia            50135        118749         0.422
## 118:           Niger             8039         18562         0.433
## 119:         Albania            36262         78833         0.460
## 120:            Togo            10608         21662         0.490
## 121:           Egypt           144052        289277         0.498
## 122: Rep. of Moldova            37926         76098         0.498
## 123:         Ukraine           171856        340313         0.505
## 124:    Saudi Arabia           110924        211368         0.525
## 125: State of Palest             5235          9717         0.539
## 126:    Solomon Isds             3242          5789         0.560
## 127:          Belize            12752         22033         0.579
## 128:         Burundi             5337          8970         0.595
## 129: Bolivia (Plurin            29999         50416         0.595
## 130:          Guinea            10524         17383         0.605
## 131:         Tunisia           132290        210765         0.628
## 132:  CÃ´te d'Ivoire            28716         45639         0.629
## 133:        Cameroon            32536         51078         0.637
## 134:        Viet Nam           368095        549192         0.670
## 135:           Benin             9150         13176         0.694
## 136:        Pakistan           242017        336475         0.719
## 137:        Malaysia           489828        666501         0.735
## 138:         Senegal            35882         47987         0.748
## 139:       Nicaragua            45450         60402         0.752
## 140:          Cyprus            95011        125433         0.757
## 141:         Andorra            18970         24747         0.767
## 142:           Japan           881706       1144100         0.771
## 143:       Greenland             5818          7548         0.771
## 144: Other Asia, nes           823782       1019417         0.808
## 145:          Israel           362606        446507         0.812
## 146:        Zimbabwe            33547         41159         0.815
## 147:          Malawi            16212         19318         0.839
## 148:           Tonga             3811          4513         0.844
## 149:           Malta            87424        102834         0.850
## 150: China, Hong Kon           713042        831375         0.858
## 151:   New Caledonia            15606         18003         0.867
## 152:         Algeria            27377         31574         0.867
## 153:      Kyrgyzstan            19255         21998         0.875
## 154:         Iceland            81411         92452         0.881
## 155:         Ecuador           107878        122436         0.881
## 156:       Sri Lanka           203451        230469         0.883
## 157:        Slovenia           422051        475035         0.888
## 158:      Azerbaijan            31479         35260         0.893
## 159:         Finland           513623        565603         0.908
## 160:         Uruguay            86544         94914         0.912
## 161:        Ethiopia            40053         43881         0.913
## 162:         Ireland           411436        449163         0.916
## 163:          Mexico           618046        654968         0.944
## 164:         Bahamas            16609         17496         0.949
## 165:       Australia           637813        668846         0.954
## 166:       Indonesia           616563        645405         0.955
## 167:        Bulgaria           424244        443865         0.956
## 168:        Mongolia            23420         24187         0.968
## 169:        Slovakia           463920        465508         0.997
## 170:        Thailand           852227        850288         1.002
## 171:           India          1286293       1273828         1.010
## 172:             USA          2054324       1989690         1.032
## 173:         Austria           995135        956815         1.040
## 174:         Romania           518827        496617         1.045
## 175:           Chile           245693        234619         1.047
## 176:          Jordan           113943        108767         1.048
## 177:         Hungary           643149        613874         1.048
## 178:          Greece           480241        458110         1.048
## 179:   Rep. of Korea          1057268       1008392         1.048
## 180:       Argentina           322732        307562         1.049
## 181:         Armenia            40755         38754         1.052
## 182:         Bermuda             8972          8519         1.053
## 183:          Norway           469872        424978         1.106
## 184: Bosnia Herzegov           165882        147614         1.124
## 185:          Kuwait            74655         66230         1.127
## 186:          Sweden           992889        879496         1.129
## 187:  United Kingdom          1826485       1613023         1.132
## 188:          Canada           949745        838226         1.133
## 189:         Estonia           310602        273892         1.134
## 190:           Italy          1985093       1750429         1.134
## 191:      Madagascar            75151         66145         1.136
## 192:        Colombia           290169        254707         1.139
## 193:     Switzerland          1154941       1001929         1.153
## 194:  Dominican Rep.           121799        105498         1.155
## 195:           Aruba            15194         13058         1.164
## 196: TFYR of Macedon           144360        122350         1.180
## 197:        Paraguay            47572         40168         1.184
## 198:          Brazil           745071        628173         1.186
## 199:       Guatemala           153286        128957         1.189
## 200:          Serbia           338720        283297         1.196
## 201:     Netherlands          1620224       1352706         1.198
## 202:            Peru           263760        219924         1.199
## 203:         Lebanon           184169        152772         1.206
## 204:           China          2695005       2222918         1.212
## 205:          Zambia            49755         40850         1.218
## 206:     El Salvador           117447         96113         1.222
## 207:         Jamaica            38490         31153         1.236
## 208:         Czechia           997443        805314         1.239
## 209:      Luxembourg           313990        252124         1.245
## 210:         Croatia           346930        276484         1.255
## 211:            Oman            88998         70585         1.261
## 212:          France          2067794       1637265         1.263
## 213:          Poland          1181009        929179         1.271
## 214:         Denmark          1075653        844109         1.274
## 215:        Portugal           776477        604931         1.284
## 216:     New Zealand           454658        353274         1.287
## 217: Russian Federat           640637        496814         1.289
## 218:           Spain          1786945       1384347         1.291
## 219:       Mauritius           121360         93638         1.296
## 220:         Germany          2606723       2003847         1.301
## 221:          Latvia           330500        253740         1.303
## 222:         Georgia            94271         71900         1.311
## 223:          Turkey          1395489       1045428         1.335
## 224:       Lithuania           470291        349833         1.344
## 225:         Belarus           216802        160668         1.349
## 226: United Rep. of             88072         65114         1.353
## 227:      Costa Rica           201217        148751         1.353
## 228: United Arab Emi           801406        582887         1.375
## 229:        Botswana            58900         42355         1.391
## 230:         Bahrain            92262         65946         1.399
## 231:         Belgium          1701369       1208960         1.407
## 232:       Singapore           872528        612317         1.425
## 233:          Uganda            72715         50231         1.448
## 234:           Yemen            25442         17421         1.460
## 235:    South Africa           901371        559041         1.612
## 236: Brunei Darussal            33833         20967         1.614
## 237: French Polynesi            21886         12524         1.748
## 238:      Montenegro            53278         30449         1.750
## 239:           Samoa            14912          7567         1.971
## 240:      Cabo Verde            20478          9799         2.090
## 241:          Rwanda            26840         12310         2.180
## 242:      Kazakhstan           143843         62951         2.285
## 243:         Namibia           139658         60516         2.308
## 244:            Fiji            84308         36086         2.336
## 245:           Palau             4890          2021         2.420
##             Reporter Reported Exports World Imports Share_Present
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(rep_ex, rep_ex2)}

\CommentTok{#yearXproduct imports reported by country, relative to exports to country reported by world}

\NormalTok{rep_im <-}\StringTok{ }\NormalTok{imports_full12[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Import Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Reporter"}\NormalTok{, }\StringTok{"Period"}\NormalTok{, }\StringTok{"Partner"}\NormalTok{)]}
\NormalTok{rep_im <-}\StringTok{ }\NormalTok{rep_im[, .N, by =}\StringTok{ "Reporter"}\NormalTok{]}
\NormalTok{rep_im <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(rep_im, }\StringTok{"Reported Imports"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{rep_im2 <-}\StringTok{ }\NormalTok{exports[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Export Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Partner"}\NormalTok{, }\StringTok{"Period"}\NormalTok{, }\StringTok{"Reporter"}\NormalTok{)]}
\NormalTok{rep_im2 <-}\StringTok{ }\NormalTok{rep_im2[, .N, by =}\StringTok{ "Partner"}\NormalTok{]}
\NormalTok{rep_im2 <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(rep_im2, }\StringTok{"World Exports"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{rep_im <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(rep_im, rep_im2, }\DataTypeTok{by.x =} \KeywordTok{c}\NormalTok{(}\StringTok{"Reporter"}\NormalTok{), }\DataTypeTok{by.y =} \StringTok{"Partner"}\NormalTok{, }\DataTypeTok{all =} \NormalTok{T)}

\NormalTok{rep_im[}\KeywordTok{is.na}\NormalTok{(rep_im)] <-}\StringTok{ }\DecValTok{0}
\NormalTok{rep_im$Share_Present <-}\StringTok{ }\NormalTok{rep_im$}\StringTok{`}\DataTypeTok{Reported Imports}\StringTok{`} \NormalTok{/}\StringTok{ }\NormalTok{rep_im$}\StringTok{`}\DataTypeTok{World Exports}\StringTok{`}

\NormalTok{rep_im <-}\StringTok{ }\NormalTok{rep_im[}\KeywordTok{order}\NormalTok{(Share_Present)]}
\NormalTok{rep_im$Reporter <-}\StringTok{ }\KeywordTok{strtrim}\NormalTok{(rep_im$Reporter, }\DecValTok{15}\NormalTok{)}
\KeywordTok{print}\NormalTok{(rep_im, }\DataTypeTok{nrow=}\DecValTok{245}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##             Reporter Reported Imports World Exports Share_Present
##   1:     Afghanistan                0        113988         0.000
##   2:  American Samoa                0         16717         0.000
##   3:        Anguilla                0         14604         0.000
##   4:      Antarctica                0         10512         0.000
##   5: Antigua and Bar                0         51417         0.000
##   6:      Areas, nes                0        156117         0.000
##   7:        Barbados                0         86114         0.000
##   8:         Bonaire                0         11855         0.000
##   9:   Bouvet Island                0           560         0.000
##  10: Br. Indian Ocea                0          2075         0.000
##  11: Br. Virgin Isds                0         41781         0.000
##  12:         Bunkers                0         68879         0.000
##  13: Central African                0         33513         0.000
##  14:            Chad                0         65697         0.000
##  15:  Christmas Isds                0          9237         0.000
##  16:      Cocos Isds                0          3068         0.000
##  17:         Comoros                0         37678         0.000
##  18:       Cook Isds                0         29554         0.000
##  19:            Cuba                0        160514         0.000
##  20:        CuraÃ§ao                0        101484         0.000
##  21: Dem. People's R                0         46564         0.000
##  22: Dem. Rep. of th                0        170473         0.000
##  23:        Djibouti                0         94086         0.000
##  24:        Dominica                0         35599         0.000
##  25: Equatorial Guin                0        115146         0.000
##  26:         Eritrea                0         36915         0.000
##  27:   FS Micronesia                0         18530         0.000
##  28:     Faeroe Isds                0         66520         0.000
##  29: Falkland Isds (                0         13086         0.000
##  30: Fr. South Antar                0          9998         0.000
##  31:      Free Zones                0         62652         0.000
##  32:           Gabon                0        142238         0.000
##  33:          Gambia                0         66478         0.000
##  34:       Gibraltar                0         66780         0.000
##  35:         Grenada                0         35118         0.000
##  36:            Guam                0         39209         0.000
##  37:   Guinea-Bissau                0         37070         0.000
##  38:          Guyana                0         73820         0.000
##  39:           Haiti                0         96296         0.000
##  40: Heard Island an                0           449         0.000
##  41: Holy See (Vatic                0          4346         0.000
##  42:            Iran                0        267478         0.000
##  43:            Iraq                0        236238         0.000
##  44:           Kenya                0        262962         0.000
##  45:        Kiribati                0         28725         0.000
##  46:       LAIA, nes                0          3115         0.000
##  47: Lao People's De                0         79503         0.000
##  48:         Lesotho                0         44329         0.000
##  49:         Liberia                0         99989         0.000
##  50:           Libya                0        193325         0.000
##  51:            Mali                0        107780         0.000
##  52:   Marshall Isds                0         33352         0.000
##  53:         Mayotte                0         16736         0.000
##  54:      Montserrat                0          7195         0.000
##  55:      Mozambique                0        169348         0.000
##  56: N. Mariana Isds                0         14257         0.000
##  57:           Nauru                0         14164         0.000
##  58:         Nigeria                0        312489         0.000
##  59:            Niue                0         10103         0.000
##  60:    Norfolk Isds                0         10660         0.000
##  61: North America a                0          1070         0.000
##  62:    Oceania, nes                0          5421         0.000
##  63: Other Africa, n                0         17712         0.000
##  64: Other Europe, n                0         23152         0.000
##  65:     Philippines                0        373889         0.000
##  66:        Pitcairn                0          1533         0.000
##  67: Saint BarthÃ©le                0         12850         0.000
##  68:    Saint Helena                0         18348         0.000
##  69: Saint Kitts and                0         32024         0.000
##  70:     Saint Lucia                0         46628         0.000
##  71:   Saint Maarten                0         37739         0.000
##  72: Saint Pierre an                0         22806         0.000
##  73: Saint Vincent a                0         34699         0.000
##  74:      San Marino                0         29893         0.000
##  75: Sao Tome and Pr                0         29828         0.000
##  76:      Seychelles                0        125137         0.000
##  77:    Sierra Leone                0         90295         0.000
##  78:         Somalia                0         51404         0.000
##  79: South Georgia a                0           992         0.000
##  80:     South Sudan                0         26720         0.000
##  81: Special Categor                0          2997         0.000
##  82:        Suriname                0         91550         0.000
##  83:       Swaziland                0         55268         0.000
##  84:           Syria                0        110985         0.000
##  85:      Tajikistan                0         87897         0.000
##  86:     Timor-Leste                0         49377         0.000
##  87:         Tokelau                0          4063         0.000
##  88: Trinidad and To                0        150617         0.000
##  89:    Turkmenistan                0        137979         0.000
##  90: Turks and Caico                0         26304         0.000
##  91:          Tuvalu                0         12864         0.000
##  92: United States M                0          5790         0.000
##  93:      Uzbekistan                0        169348         0.000
##  94:         Vanuatu                0         58670         0.000
##  95:       Venezuela                0        238406         0.000
##  96: Wallis and Futu                0         18876         0.000
##  97:  Western Sahara                0          1171         0.000
##  98:           World                0       2299797         0.000
##  99:     Cayman Isds             1848         47972         0.039
## 100:      Mauritania            17412        105600         0.165
## 101:           Congo            39328        170071         0.231
## 102:           Sudan            41767        162416         0.257
## 103:         Myanmar            40862        157530         0.259
## 104:    Burkina Faso            32261        101667         0.317
## 105:           Ghana            90357        250570         0.361
## 106:            Togo            43873        108945         0.403
## 107:  CÃ´te d'Ivoire            76355        187823         0.407
## 108: Papua New Guine            52274        127950         0.409
## 109:         Ukraine           213562        427676         0.499
## 110:           Benin            51204        102000         0.502
## 111:         Senegal           103170        183848         0.561
## 112:           Tonga            21421         35550         0.603
## 113:         Morocco           190755        311896         0.612
## 114:    Saudi Arabia           295835        478803         0.618
## 115:      Kyrgyzstan            85704        134641         0.637
## 116:           Egypt           252149        389965         0.647
## 117: Rep. of Moldova           139527        213513         0.653
## 118:          Angola           180713        268799         0.672
## 119:          Guinea            87696        122442         0.716
## 120:        Honduras           128216        177870         0.721
## 121:          Bhutan            17426         24013         0.726
## 122: China, Macao SA            82227        111701         0.736
## 123:         Burundi            39219         50277         0.780
## 124:         Lebanon           265650        316866         0.838
## 125:      Azerbaijan           203644        242537         0.840
## 126:           Niger            57591         66500         0.866
## 127:        Cambodia           129119        149025         0.866
## 128:          Panama           258529        298247         0.867
## 129:      Bangladesh           207760        233377         0.890
## 130:   New Caledonia           114636        128016         0.895
## 131: China, Hong Kon           507583        560700         0.905
## 132:         Bahamas            77995         85888         0.908
## 133:           Aruba            69588         76425         0.911
## 134:        Ethiopia           146397        158972         0.921
## 135:         Albania           178225        193414         0.921
## 136:        Viet Nam           397601        416473         0.955
## 137:           Japan           583713        605538         0.964
## 138:        Malaysia           463464        479043         0.967
## 139:          Malawi            79367         81659         0.972
## 140: State of Palest            35708         36237         0.985
## 141:           India           555513        558977         0.994
## 142:           Yemen           124721        123425         1.011
## 143:          Cyprus           318717        312573         1.020
## 144:             USA          1030318       1009078         1.021
## 145: Other Asia, nes           474406        460215         1.031
## 146:         Finland           492458        469767         1.048
## 147:        Mongolia           148613        138528         1.073
## 148:        Cameroon           179354        166749         1.076
## 149:    Solomon Isds            49132         45512         1.080
## 150:           Malta           278868        258261         1.080
## 151:          Jordan           309409        285492         1.084
## 152:          Greece           508029        468064         1.085
## 153:        Bulgaria           482635        441977         1.092
## 154:          Latvia           432701        396144         1.092
## 155:  United Kingdom           936930        848143         1.105
## 156: United Arab Emi           703149        633508         1.110
## 157:          Kuwait           352737        316527         1.114
## 158:        Pakistan           325072        290501         1.119
## 159:       Australia           688778        615364         1.119
## 160:         Andorra            81290         71047         1.144
## 161:           Italy           924641        799653         1.156
## 162:         Jamaica           133815        115237         1.161
## 163:           Qatar           372614        319721         1.165
## 164:          Israel           488577        417213         1.171
## 165:         Hungary           573623        488737         1.174
## 166:       Lithuania           507067        428834         1.182
## 167:         Germany          1202175       1002639         1.199
## 168:        Slovenia           492815        410366         1.201
## 169: Russian Federat           784800        648608         1.210
## 170:         Tunisia           309070        255429         1.210
## 171:           China           879183        724493         1.214
## 172:         Austria           677922        557435         1.216
## 173:          Sweden           694543        571099         1.216
## 174:            Oman           323153        259168         1.247
## 175:          Turkey           678441        542214         1.251
## 176:         Ecuador           318015        253359         1.255
## 177:        Portugal           541380        431293         1.255
## 178:          Brazil           583276        461011         1.265
## 179:       Argentina           391003        308855         1.266
## 180:           Nepal           120039         94650         1.268
## 181:         Algeria           321695        251633         1.278
## 182:         Romania           649130        506860         1.281
## 183:         Belgium           845090        659168         1.282
## 184:       Guatemala           300538        232886         1.290
## 185: Brunei Darussal           156444        121198         1.291
## 186:     Netherlands           970831        744860         1.303
## 187:        Thailand           626715        476703         1.315
## 188:          Poland           815989        613984         1.329
## 189:      Cabo Verde            91218         68038         1.341
## 190:           Spain           938577        698773         1.343
## 191:       Sri Lanka           328299        243900         1.346
## 192:         Estonia           522611        385629         1.355
## 193:          Serbia           546146        398624         1.370
## 194:         Ireland           537144        391203         1.373
## 195:       Singapore           770628        558604         1.380
## 196:         Croatia           527583        381247         1.384
## 197:          Belize            92097         66466         1.386
## 198:         Uruguay           344345        246256         1.398
## 199:        Colombia           494150        352427         1.402
## 200:  Dominican Rep.           323954        230951         1.403
## 201:           Chile           568781        401602         1.416
## 202:       Indonesia           569711        401892         1.418
## 203:            Peru           469619        326339         1.439
## 204:   Rep. of Korea           771507        535194         1.442
## 205:        Paraguay           260181        179080         1.453
## 206:          France          1216004        835322         1.456
## 207:         Denmark           745249        510391         1.460
## 208:         Belarus           416389        280950         1.482
## 209:          Zambia           217049        144837         1.499
## 210:         Czechia           799978        533397         1.500
## 211: Bolivia (Plurin           289393        192027         1.507
## 212:        Slovakia           625076        413672         1.511
## 213:            Fiji           167592        110429         1.518
## 214:         Armenia           242789        159951         1.518
## 215:          Norway           730569        480536         1.520
## 216:      Kazakhstan           495711        325467         1.523
## 217:     Switzerland           939659        616597         1.524
## 218:         Bahrain           383847        250483         1.532
## 219:         Georgia           380719        247267         1.540
## 220:     New Zealand           611555        393386         1.555
## 221:       Nicaragua           248050        156716         1.583
## 222:          Uganda           232320        142858         1.626
## 223:    South Africa           830564        508424         1.634
## 224:        Zimbabwe           190980        116132         1.645
## 225: TFYR of Macedon           403985        244262         1.654
## 226:      Luxembourg           439840        261304         1.683
## 227:       Mauritius           359677        213116         1.688
## 228:          Mexico           770869        455649         1.692
## 229:        Botswana           138249         81685         1.692
## 230: United Rep. of            339973        199212         1.707
## 231:        Maldives           256218        141069         1.816
## 232: Bosnia Herzegov           472975        258277         1.831
## 233:          Canada          1049934        570552         1.840
## 234:         Namibia           212609        114517         1.857
## 235:      Montenegro           322440        172377         1.871
## 236:      Costa Rica           472822        243090         1.945
## 237:      Madagascar           261313        133074         1.964
## 238:         Iceland           423411        214405         1.975
## 239:     El Salvador           354754        179435         1.977
## 240: French Polynesi           210804        101647         2.074
## 241:          Rwanda           174337         83561         2.086
## 242:           Samoa            99340         44268         2.244
## 243:       Greenland           115396         50887         2.268
## 244:         Bermuda           141920         51409         2.761
## 245:           Palau            74982         19241         3.897
##             Reporter Reported Imports World Exports Share_Present
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(rep_im, rep_im2, exports, imports_full12)}
\end{Highlighting}
\end{Shaded}

\textbf{Origin x year combinations, per commodity code} The following
tables look at the number of origin x year combinations per reporter
(\texttt{Reporter\ Pairs}) vs the number of combinations per partner
(\texttt{Partner\ Pairs}) for reported exports and then reported
imports.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#For each product how many origin X month combinations}
\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/imports_full12.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\NormalTok{imports_full12 <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(imports_full12, }\StringTok{"Import Value"} \NormalTok{=}\StringTok{ "Trade Value (US$)"}\NormalTok{)}
\NormalTok{imports_full12 <-}\StringTok{ }\NormalTok{imports_full12[, }
                  \NormalTok{.(Period, Reporter, Partner, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, Commodity, }\StringTok{`}\DataTypeTok{Import Value}\StringTok{`}\NormalTok{)]}

\KeywordTok{load}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Analysis Data/exports_full12.Rda"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}

\NormalTok{exports <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(exports, }\StringTok{"Export Value"} \NormalTok{=}\StringTok{ "Trade Value (US$)"}\NormalTok{)}
\NormalTok{exports <-}\StringTok{ }\NormalTok{exports[, .(Period, Reporter, Partner, }\StringTok{`}\DataTypeTok{Commodity Code}\StringTok{`}\NormalTok{, Commodity, }\StringTok{`}\DataTypeTok{Export Value}\StringTok{`}\NormalTok{)]}

\NormalTok{prod_ex <-}\StringTok{ }\NormalTok{exports[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Export Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Reporter}\StringTok{`}\NormalTok{), }
                   \NormalTok{by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Commodity"}\NormalTok{, }\StringTok{"Period"}\NormalTok{)]}

\NormalTok{prod_ex <-}\StringTok{ }\NormalTok{prod_ex[, .N, by =}\StringTok{ "Commodity"}\NormalTok{]}
\NormalTok{prod_ex <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(prod_ex, }\StringTok{"Reporter Pairs"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{prod_expartner <-}\StringTok{ }\NormalTok{imports_full12[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Import Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Partner}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Commodity"}\NormalTok{, }\StringTok{"Period"}\NormalTok{)]}
\NormalTok{prod_expartner <-}\StringTok{ }\NormalTok{prod_expartner[, .N, by =}\StringTok{ "Commodity"}\NormalTok{]}
\NormalTok{prod_expartner <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(prod_expartner, }\StringTok{"Partner Pairs"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{prod_ex <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(prod_ex, prod_expartner, }\DataTypeTok{by =} \KeywordTok{c}\NormalTok{(}\StringTok{"Commodity"}\NormalTok{), }\DataTypeTok{all =} \NormalTok{T) }

\NormalTok{prod_ex$Share <-}\StringTok{ }\NormalTok{prod_ex$}\StringTok{`}\DataTypeTok{Reporter Pairs}\StringTok{`} \NormalTok{/}\StringTok{ }\NormalTok{prod_ex$}\StringTok{`}\DataTypeTok{Partner Pairs}\StringTok{`}

\NormalTok{prod_ex$Commodity <-}\StringTok{ }\KeywordTok{strtrim}\NormalTok{(prod_ex$Commodity, }\DecValTok{30}\NormalTok{)}
\KeywordTok{pander}\NormalTok{(prod_ex[}\KeywordTok{order}\NormalTok{(Share)][}\DecValTok{1}\NormalTok{:}\DecValTok{25}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccc@{}}
\toprule
\begin{minipage}[b]{0.38\columnwidth}\centering\strut
Commodity\strut
\end{minipage} & \begin{minipage}[b]{0.21\columnwidth}\centering\strut
Reporter Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.20\columnwidth}\centering\strut
Partner Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Share\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Carboxyam\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
18\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
71\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.2535\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Uranium\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
33\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
103\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3204\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Miscellaneous chemical product\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
26\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
81\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.321\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Halogenat\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
24\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
70\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3429\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Salt; sulphur; earths and ston\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
21\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
61\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3443\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Works of art, collectors' piec\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
290\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
831\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.349\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Works of art, collectors' piec\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
290\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
831\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.349\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Works of art, collectors' piec\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
371\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
988\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3755\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Works of art, collectors' piec\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
371\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
988\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3755\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Pulp of wood or of other fibro\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
49\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
130\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3769\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Works of art, collectors' piec\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
305\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
792\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3851\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Works of art, collectors' piec\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
305\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
792\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3851\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Electrical machinery and equip\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
303\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
769\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.394\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Uranium\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
58\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
146\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3973\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Natural or cultured pearls, pr\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
269\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
673\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3997\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Natural or cultured pearls, pr\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
269\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
673\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3997\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Fish and crustaceans, molluscs\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
33\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
82\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4024\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Wood and articles of wood; woo\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
124\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
307\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4039\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Miscellaneous chemical product\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
48\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
117\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4103\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Uranium\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
32\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
78\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4103\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Wood and articles of wood; woo\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
76\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
185\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4108\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Wood and articles of wood; woo\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
164\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
398\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4121\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ships, boats and floating stru\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
43\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
103\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4175\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Carboxyim\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
26\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
62\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4194\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Molybden\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
128\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
305\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4197\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{pander}\NormalTok{(prod_ex[}\KeywordTok{order}\NormalTok{(-Share)][}\DecValTok{1}\NormalTok{:}\DecValTok{25}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccc@{}}
\toprule
\begin{minipage}[b]{0.38\columnwidth}\centering\strut
Commodity\strut
\end{minipage} & \begin{minipage}[b]{0.21\columnwidth}\centering\strut
Reporter Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.20\columnwidth}\centering\strut
Partner Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Share\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Aircraft, spacecraft, and part\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
236\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
214\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.103\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
215\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
206\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.044\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Vehicles other than railway or\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
284\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
277\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.025\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Other base metals; cermets; ar\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
52\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
51\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.02\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Vehicles other than railway or\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
263\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
263\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Railway or tramway locomotives\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
192\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
193\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9948\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Meat and edible meat offal //\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
285\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
288\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9896\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
243\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
247\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9838\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Meat and edible meat offal //\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
278\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
283\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9823\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Preparations of meat, of fish\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
104\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
106\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9811\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Oil seeds and oleaginous fruit\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
154\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
158\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9747\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Carboxyim\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
295\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
305\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9672\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Live animals // Live swine. //\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
210\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
218\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9633\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Aircraft, spacecraft, and part\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
287\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
298\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9631\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Dairy produce; birds' eggs; na\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
335\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
348\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9626\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
281\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
293\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.959\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Cotton // Cotton yarn (other t\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
68\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
71\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9577\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
322\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
337\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9555\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Railway or tramway locomotives\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
257\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
269\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9554\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
231\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
242\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9545\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ships, boats and floating stru\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
221\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
232\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9526\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Inorganic chemicals; organic o\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
281\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
295\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9525\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Meat and edible meat offal //\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
279\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
293\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9522\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
350\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
368\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9511\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, mac\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
232\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
244\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.9508\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(prod_ex, prod_expartner)}

\NormalTok{prod_im <-}\StringTok{ }\NormalTok{imports_full12[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Import Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Reporter}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Commodity"}\NormalTok{, }\StringTok{"Period"}\NormalTok{)]}
\NormalTok{prod_im <-}\StringTok{ }\NormalTok{prod_im[, .N, by =}\StringTok{ "Commodity"}\NormalTok{]}
\NormalTok{prod_im <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(prod_im, }\StringTok{"Reporter Pairs"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{prod_impartner <-}\StringTok{ }\NormalTok{exports[!}\KeywordTok{is.na}\NormalTok{(}\StringTok{`}\DataTypeTok{Export Value}\StringTok{`}\NormalTok{), }\KeywordTok{unique}\NormalTok{(}\StringTok{`}\DataTypeTok{Partner}\StringTok{`}\NormalTok{), by =}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Commodity"}\NormalTok{, }\StringTok{"Period"}\NormalTok{)]}
\NormalTok{prod_impartner <-}\StringTok{ }\NormalTok{prod_impartner[, .N, by =}\StringTok{ "Commodity"}\NormalTok{]}
\NormalTok{prod_impartner <-}\StringTok{ }\KeywordTok{rename}\NormalTok{(prod_impartner, }\StringTok{"Partner Pairs"} \NormalTok{=}\StringTok{ "N"}\NormalTok{) }

\NormalTok{prod_im <-}\StringTok{ }\KeywordTok{merge}\NormalTok{(prod_im, prod_impartner, }\DataTypeTok{by =} \KeywordTok{c}\NormalTok{(}\StringTok{"Commodity"}\NormalTok{), }\DataTypeTok{all =} \NormalTok{T)}

\NormalTok{prod_im$Share <-}\StringTok{ }\NormalTok{prod_im$}\StringTok{`}\DataTypeTok{Reporter Pairs}\StringTok{`} \NormalTok{/}\StringTok{ }\NormalTok{prod_im$}\StringTok{`}\DataTypeTok{Partner Pairs}\StringTok{`}

\NormalTok{prod_im$Commodity <-}\StringTok{ }\KeywordTok{strtrim}\NormalTok{(prod_im$Commodity, }\DecValTok{50}\NormalTok{)}
\KeywordTok{pander}\NormalTok{(prod_im[}\KeywordTok{order}\NormalTok{(Share)][}\DecValTok{1}\NormalTok{:}\DecValTok{25}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccc@{}}
\toprule
\begin{minipage}[b]{0.38\columnwidth}\centering\strut
Commodity\strut
\end{minipage} & \begin{minipage}[b]{0.21\columnwidth}\centering\strut
Reporter Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.20\columnwidth}\centering\strut
Partner Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Share\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Live animals // Other live animals. // - Birds : /\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
51\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
130\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.3923\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Other base metals; cermets; articles thereof // Be\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
14\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
32\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4375\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Pharmaceutical products // Pharmaceutical goods sp\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
291\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
660\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4409\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Vehicles other than railway or tramway rolling-sto\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
277\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
623\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4446\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Vehicles other than railway or tramway rolling-sto\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
277\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
623\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4446\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Commodities not specified according to kind\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
544\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1212\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4488\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Arms and ammunition; parts and accessories thereof\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
495\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1094\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4525\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Arms and ammunition; parts and accessories thereof\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
463\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1004\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4612\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Arms and ammunition; parts and accessories thereof\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
415\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
899\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4616\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Meat and edible meat offal // Meat and edible meat\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
437\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
937\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4664\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Meat and edible meat offal // Meat and edible offa\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
499\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1069\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4668\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, machinery and mechanica\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
571\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1221\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4676\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Rubber and articles thereof // Retreaded or used p\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
508\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1086\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4678\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
All Commodities\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1221\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4685\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Electrical machinery and equipment and parts there\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1220\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4689\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Optical, photographic, cinematographic, measuring,\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1217\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.47\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Beverages, spirits and vinegar // Wine of fresh gr\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
554\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1178\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4703\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Plastics and articles thereof\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1216\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4704\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Articles of iron or steel\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1215\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4708\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Vehicles other than railway or tramway rolling-sto\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1215\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4708\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Electrical machinery and equipment and parts there\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
571\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1211\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4715\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Articles of apparel and clothing accessories, knit\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1211\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4723\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Miscellaneous chemical products\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
572\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
1211\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4723\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Dairy produce; birds' eggs; natural honey; edible\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
405\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
857\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4726\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Meat and edible meat offal // Meat and edible meat\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
108\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
228\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
0.4737\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{pander}\NormalTok{(prod_im[}\KeywordTok{order}\NormalTok{(-Share)][}\DecValTok{1}\NormalTok{:}\DecValTok{25}\NormalTok{])}
\end{Highlighting}
\end{Shaded}

\begin{longtable}[]{@{}cccc@{}}
\toprule
\begin{minipage}[b]{0.38\columnwidth}\centering\strut
Commodity\strut
\end{minipage} & \begin{minipage}[b]{0.21\columnwidth}\centering\strut
Reporter Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.20\columnwidth}\centering\strut
Partner Pairs\strut
\end{minipage} & \begin{minipage}[b]{0.09\columnwidth}\centering\strut
Share\strut
\end{minipage}\tabularnewline
\midrule
\endhead
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Uranium or thorium ores and\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
61\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
30\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
2.033\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Pulp of wood or of other fibrous cellulosic materi\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
150\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
80\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.875\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Carboxyamide-function compoun\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
48\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
27\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.778\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Halogenated derivatives of hy\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
110\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
67\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.642\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Uranium or thorium ores and\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
117\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
72\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.625\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Carboxyamide-function compoun\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
131\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
86\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.523\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Ores, slag and ash // Uranium or thorium ores and\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
83\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
55\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.509\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Salt; sulphur; earths and stone; plastering materi\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
61\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
41\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.488\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Heterocyclic compounds with n\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
90\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
61\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.475\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Halogenated derivatives of hy\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
219\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
159\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.377\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Fish and crustaceans, molluscs and other aquatic i\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
74\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
55\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.345\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Pulp of wood or of other fibrous cellulosic materi\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
103\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
78\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.321\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Miscellaneous chemical products // Prepared binder\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
152\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
116\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.31\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Vegetable alkaloids, natural\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
38\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
29\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.31\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Saturated acyclic monocarboxy\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
140\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
111\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.261\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Miscellaneous chemical products // Prepared binder\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
108\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
87\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.241\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Salt; sulphur; earths and stone; plastering materi\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
226\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
189\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.196\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Other base metals; cermets; articles thereof // Be\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
127\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
107\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.187\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Oxygen-function amino-compoun\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
98\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
83\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.181\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Vegetable alkaloids, natural\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
94\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
80\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.175\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Nuclear reactors, boilers, machinery and mechanica\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
245\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
209\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.172\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Miscellaneous chemical products // Prepared binder\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
82\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
70\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.171\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Organic chemicals // Carboxyimide-function compoun\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
40\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
35\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.143\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Fish and crustaceans, molluscs and other aquatic i\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
117\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
103\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.136\strut
\end{minipage}\tabularnewline
\begin{minipage}[t]{0.38\columnwidth}\centering\strut
Cotton // Cotton yarn (other than sewing thread),\strut
\end{minipage} & \begin{minipage}[t]{0.21\columnwidth}\centering\strut
130\strut
\end{minipage} & \begin{minipage}[t]{0.20\columnwidth}\centering\strut
117\strut
\end{minipage} & \begin{minipage}[t]{0.09\columnwidth}\centering\strut
1.111\strut
\end{minipage}\tabularnewline
\bottomrule
\end{longtable}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(prod_im, exports, imports_full12)}
\end{Highlighting}
\end{Shaded}

\textbf{What does tariff data include?}

The following is an example of the non-tariff measure data and tariff
data downloaded from WITS. The NTM data can only be downloaded for one
country/year pair at a time. The tariff data can be downloaded all at
once, but each county/year pair is organized in it's own csv file. Both
datasets are organized at the 6-digit product code level, so they should
merge with the trade data.

The tariff data has both most-favored nation and preferential rates.
Descriptions of the columns can be found here:
wits.worldbank.org/data/public/Help\_BulkDownload\_TRAINS.pdf

The NTM data descriptions can be found in the ``NTM data dictionary''
word document in Dropbox/BJ Customs Evasion/Raw Data. Detailed
descriptions of the NTM code classifications can be found here:
unctad.org/en/PublicationsLibrary/ditctab20122\_en.pdf

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Example of NTM data}
\NormalTok{NTM <-}\StringTok{ }\KeywordTok{read.csv}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Raw Data/NTM_data_example.csv"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{NTM <-}\StringTok{ }\KeywordTok{as.data.table}\NormalTok{(NTM)}
\NormalTok{NTM[}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     NTMNomenclature  ReporterName Year NTMCode Measure_ID NomenCode
##  1:              M3 United States 2013    D110      83748        H4
##  2:              M3 United States 2013    D110      83749        H4
##  3:              M3 United States 2013    D110      83749        H4
##  4:              M3 United States 2013    D110      83749        H4
##  5:              M3 United States 2013    D110      83749        H4
##  6:              M3 United States 2013    D110      83749        H4
##  7:              M3 United States 2013    D110      83750        H4
##  8:              M3 United States 2013    D110      83750        H4
##  9:              M3 United States 2013    D110      83752        H4
## 10:              M3 United States 2013    D110      83752        H4
##     ProductCode PartialCoverage Partner
##  1:      391390               0     AUT
##  2:      441231               0     CHN
##  3:      441232               0     CHN
##  4:      441239               0     CHN
##  5:      441294               0     CHN
##  6:      441299               0     CHN
##  7:      690100               0     CHN
##  8:      690220               0     CHN
##  9:      721710               0     CHN
## 10:      722990               0     CHN
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Example of tariff data}
\NormalTok{tariff <-}\StringTok{ }\KeywordTok{read.csv}\NormalTok{(}\KeywordTok{paste}\NormalTok{(DataPath,}\StringTok{"Raw Data/tariff_data_example.csv"}\NormalTok{, }\DataTypeTok{sep =} \StringTok{"/"}\NormalTok{))}
\NormalTok{tariff <-}\StringTok{ }\KeywordTok{as.data.table}\NormalTok{(tariff)}
\NormalTok{tariff[}\DecValTok{1}\NormalTok{:}\DecValTok{10}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##     NomenCode Reporter_ISO_N Year ProductCode Partner ExcludedFrom
##  1:        H4            840 2013       10130     410           NA
##  2:        H4            840 2013       10130     484           NA
##  3:        H4            840 2013       10130     124           NA
##  4:        H4            840 2013       10130     036           NA
##  5:        H4            840 2013       10130     152           NA
##  6:        H4            840 2013       10130     L91           NA
##  7:        H4            840 2013       10130     N33           NA
##  8:        H4            840 2013       10130     O04           NA
##  9:        H4            840 2013       10130     P26           NA
## 10:        H4            840 2013       10130     376           NA
##     Sum_Of_Rates Min_Rate Max_Rate SimpleAverage TotalNoOfLines
##  1:            4        4        4             4              1
##  2:            0        0        0             0              1
##  3:            0        0        0             0              1
##  4:            0        0        0             0              1
##  5:            0        0        0             0              1
##  6:            0        0        0             0              1
##  7:            0        0        0             0              1
##  8:            0        0        0             0              1
##  9:            0        0        0             0              1
## 10:            0        0        0             0              1
##     Nbr_Pref_Lines Nbr_MFN_Lines Nbr_NA_Lines EstCode
##  1:              1             0            0      U2
##  2:              1             0            0      U2
##  3:              1             0            0      U2
##  4:              1             0            0      U2
##  5:              1             0            0      U2
##  6:              1             0            0      U2
##  7:              1             0            0      U2
##  8:              1             0            0      U2
##  9:              1             0            0      U2
## 10:              1             0            0      U2
\end{verbatim}


\end{document}
